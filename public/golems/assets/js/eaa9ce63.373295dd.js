"use strict";(globalThis.webpackChunk_golems_docsite=globalThis.webpackChunk_golems_docsite||[]).push([[5442],{5501(e,i,n){n.r(i),n.d(i,{assets:()=>t,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"configuration/env-vars","title":"Environment Variables","description":"All environment variables used by Golems v2. Store sensitive values in 1Password (see Secrets Management).","source":"@site/docs/configuration/env-vars.md","sourceDirName":"configuration","slug":"/configuration/env-vars","permalink":"/golems/docs/configuration/env-vars","draft":false,"unlisted":false,"editUrl":"https://github.com/EtanHey/golems/tree/master/packages/docs/docs/configuration/env-vars.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"mainSidebar","previous":{"title":"TellerGolem \u2014 Finance","permalink":"/golems/docs/golems/teller"},"next":{"title":"Secrets Management","permalink":"/golems/docs/configuration/secrets"}}');var d=n(4848),s=n(8453);const l={sidebar_position:1},c="Environment Variables",t={},o=[{value:"Core Configuration",id:"core-configuration",level:2},{value:"LLM Configuration",id:"llm-configuration",level:2},{value:"Cloud Backend (Gemini \u2014 Free)",id:"cloud-backend-gemini--free",level:3},{value:"Cloud Backend (Haiku \u2014 Paid Fallback)",id:"cloud-backend-haiku--paid-fallback",level:3},{value:"Local Backend (Ollama)",id:"local-backend-ollama",level:3},{value:"Database Configuration",id:"database-configuration",level:2},{value:"Gmail Configuration",id:"gmail-configuration",level:2},{value:"Telegram Configuration",id:"telegram-configuration",level:2},{value:"Ollama Configuration",id:"ollama-configuration",level:2},{value:"Job Scraper Configuration",id:"job-scraper-configuration",level:2},{value:"Recruiter Configuration",id:"recruiter-configuration",level:2},{value:"Night Shift &amp; Bot Configuration",id:"night-shift--bot-configuration",level:2},{value:"Setup Examples",id:"setup-examples",level:2},{value:"Development (Local)",id:"development-local",level:3},{value:"Production (Railway)",id:"production-railway",level:3},{value:"Loading Variables",id:"loading-variables",level:2},{value:"API Cost Logging",id:"api-cost-logging",level:2},{value:"See Also",id:"see-also",level:2}];function h(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.header,{children:(0,d.jsx)(i.h1,{id:"environment-variables",children:"Environment Variables"})}),"\n",(0,d.jsxs)(i.p,{children:["All environment variables used by Golems v2. Store sensitive values in 1Password (see ",(0,d.jsx)(i.a,{href:"/golems/docs/configuration/secrets",children:"Secrets Management"}),")."]}),"\n",(0,d.jsx)(i.h2,{id:"core-configuration",children:"Core Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"LLM_BACKEND"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"ollama"})}),(0,d.jsxs)(i.td,{children:["Which LLM to use: ",(0,d.jsx)(i.code,{children:"gemini"})," (cloud, free), ",(0,d.jsx)(i.code,{children:"haiku"})," (cloud, paid), or ",(0,d.jsx)(i.code,{children:"ollama"})," (local); cloud-worker uses ",(0,d.jsx)(i.code,{children:"gemini"})]}),(0,d.jsx)(i.td,{children:"Agent execution"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"STATE_BACKEND"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"file"})}),(0,d.jsxs)(i.td,{children:["State storage: ",(0,d.jsx)(i.code,{children:"supabase"})," (cloud) or ",(0,d.jsx)(i.code,{children:"file"})," (local)"]}),(0,d.jsx)(i.td,{children:"Persistent state"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_MODE"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"local"})}),(0,d.jsxs)(i.td,{children:["Notification mode: ",(0,d.jsx)(i.code,{children:"direct"})," (cloud) or ",(0,d.jsx)(i.code,{children:"local"})," (launchd)"]}),(0,d.jsx)(i.td,{children:"Telegram notifications"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TZ"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"UTC"})}),(0,d.jsxs)(i.td,{children:["Timezone (only used in helpers-status.ts); cloud-worker hardcodes ",(0,d.jsx)(i.code,{children:"Asia/Jerusalem"})]}),(0,d.jsx)(i.td,{children:"Status display"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"GOLEMS_STATE_DIR"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"~/.golems-zikaron"})}),(0,d.jsx)(i.td,{children:"Override state directory for tests or alternate environments"}),(0,d.jsx)(i.td,{children:"Test isolation"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"llm-configuration",children:"LLM Configuration"}),"\n",(0,d.jsx)(i.h3,{id:"cloud-backend-gemini--free",children:"Cloud Backend (Gemini \u2014 Free)"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"GOOGLE_GENERATIVE_AI_API_KEY"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Google AI API key (free tier covers all golems usage)"}),(0,d.jsx)(i.td,{children:"Cloud LLM calls"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"RAILWAY_URL"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"https://your-service.up.railway.app"})}),(0,d.jsx)(i.td,{children:"Cloud worker endpoint for health checks"}),(0,d.jsx)(i.td,{children:"Health monitoring"})]})]})]}),"\n",(0,d.jsx)(i.h3,{id:"cloud-backend-haiku--paid-fallback",children:"Cloud Backend (Haiku \u2014 Paid Fallback)"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsx)(i.tbody,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"ANTHROPIC_API_KEY"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Anthropic API key from 1Password"}),(0,d.jsxs)(i.td,{children:["Cloud LLM calls (if ",(0,d.jsx)(i.code,{children:"LLM_BACKEND=haiku"}),")"]})]})})]}),"\n",(0,d.jsx)(i.h3,{id:"local-backend-ollama",children:"Local Backend (Ollama)"}),"\n",(0,d.jsxs)(i.p,{children:["Requires Ollama running locally on ",(0,d.jsx)(i.code,{children:"http://localhost:11434"}),"."]}),"\n",(0,d.jsx)(i.h2,{id:"database-configuration",children:"Database Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"SUPABASE_URL"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsxs)(i.td,{children:["Your Supabase project URL (format: ",(0,d.jsx)(i.code,{children:"https://YOUR_PROJECT.supabase.co"}),")"]}),(0,d.jsx)(i.td,{children:"Cloud state backend"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"SUPABASE_SERVICE_KEY"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Service role key (bypasses RLS, for cloud worker only) from 1Password"}),(0,d.jsx)(i.td,{children:"Cloud database access"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"SUPABASE_ANON_KEY"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Anonymous key for job sync"}),(0,d.jsx)(i.td,{children:"Job golem sync"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"gmail-configuration",children:"Gmail Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"GMAIL_CLIENT_ID"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"OAuth 2.0 Client ID from Google Cloud Console"}),(0,d.jsx)(i.td,{children:"Email sync"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"GMAIL_CLIENT_SECRET"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"OAuth 2.0 Client Secret from Google Cloud Console"}),(0,d.jsx)(i.td,{children:"Email sync"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"GMAIL_REFRESH_TOKEN"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Gmail refresh token (generate via oauth-cli)"}),(0,d.jsx)(i.td,{children:"Email sync"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"telegram-configuration",children:"Telegram Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_BOT_TOKEN"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Bot token from @BotFather on Telegram"}),(0,d.jsx)(i.td,{children:"Telegram bot"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_CHAT_ID"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Chat/group ID for notifications (negative number for groups)"}),(0,d.jsx)(i.td,{children:"Telegram messages"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_TOPIC_ALERTS"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Topic ID for \ud83d\udd14 Alerts (system notifications)"}),(0,d.jsx)(i.td,{children:"Alert routing"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_TOPIC_NIGHTSHIFT"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Topic ID for \ud83c\udf19 Night Shift (autonomous tasks)"}),(0,d.jsx)(i.td,{children:"Night Shift logs"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_TOPIC_EMAIL"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Topic ID for \ud83d\udce7 Email (email events)"}),(0,d.jsx)(i.td,{children:"Email notifications"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_TOPIC_JOBS"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Topic ID for \ud83d\udcbc Jobs (job scraper results)"}),(0,d.jsx)(i.td,{children:"Job notifications"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_TOPIC_RECRUITER"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Topic ID for \ud83d\udc65 Recruiter (outreach events)"}),(0,d.jsx)(i.td,{children:"Recruiter notifications"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_TOPIC_UPTIME"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Topic ID for \u23f0 Uptime (health checks)"}),(0,d.jsx)(i.td,{children:"Uptime monitoring"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"ollama-configuration",children:"Ollama Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OLLAMA_MODEL"})}),(0,d.jsxs)(i.td,{children:[(0,d.jsx)(i.code,{children:"qwen2.5-coder:7b"})," (direct), ",(0,d.jsx)(i.code,{children:"qwen3-coder-64k"})," (sandboxed)"]}),(0,d.jsx)(i.td,{children:"Local Ollama model name"}),(0,d.jsx)(i.td,{children:"Email scoring, categorization"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OLLAMA_HOST"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"http://localhost:11434"})}),(0,d.jsx)(i.td,{children:"Ollama server URL"}),(0,d.jsx)(i.td,{children:"Local LLM calls"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OLLAMA_URL"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"http://127.0.0.1:11434"})}),(0,d.jsxs)(i.td,{children:["Alias for ",(0,d.jsx)(i.code,{children:"OLLAMA_HOST"})," (sandboxed mode)"]}),(0,d.jsx)(i.td,{children:"Sandboxed execution"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OLLAMA_SANDBOXED"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsxs)(i.td,{children:["Set to ",(0,d.jsx)(i.code,{children:"1"})," to enable sandboxed Ollama execution"]}),(0,d.jsx)(i.td,{children:"Sandboxed mode"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"VALIDATION_DIR"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"~/.golems-zikaron/validation-queue"})}),(0,d.jsx)(i.td,{children:"Directory for sandboxed validation queue"}),(0,d.jsx)(i.td,{children:"Sandboxed execution"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"job-scraper-configuration",children:"Job Scraper Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"SKIP_DRUSHIM"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsxs)(i.td,{children:["Set to ",(0,d.jsx)(i.code,{children:"1"})," to skip Drushim.co.il scraper"]}),(0,d.jsx)(i.td,{children:"Job scraper"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"SKIP_INDEED"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsxs)(i.td,{children:["Set to ",(0,d.jsx)(i.code,{children:"1"})," to skip Indeed scraper"]}),(0,d.jsx)(i.td,{children:"Job scraper"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"SKIP_SECRETLV"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsxs)(i.td,{children:["Set to ",(0,d.jsx)(i.code,{children:"1"})," to skip Secret Tel Aviv scraper"]}),(0,d.jsx)(i.td,{children:"Job scraper"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"recruiter-configuration",children:"Recruiter Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"HUNTER_API_KEY"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Hunter.io API key for finding contact emails"}),(0,d.jsx)(i.td,{children:"Contact finder"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"EXA_API_KEY"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Exa API key for web search and contact finding"}),(0,d.jsx)(i.td,{children:"Contact finder"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"night-shift--bot-configuration",children:"Night Shift & Bot Configuration"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Default"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Required For"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"REPOS_PATH"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"~/Gits"})}),(0,d.jsx)(i.td,{children:"Base path for git repositories"}),(0,d.jsx)(i.td,{children:"Night Shift"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"ACTIVITY_DAYS_TO_KEEP"})}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"7"})}),(0,d.jsx)(i.td,{children:"Days of session history to retain"}),(0,d.jsx)(i.td,{children:"Session archiver"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"TELEGRAM_ALLOWED_IDS"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Comma-separated Telegram user IDs allowed to interact"}),(0,d.jsx)(i.td,{children:"Telegram bot security"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OLLAMA_CHAT_BOT_TOKEN"})}),(0,d.jsx)(i.td,{children:"\u2014"}),(0,d.jsx)(i.td,{children:"Separate bot token for Ollama chat bot"}),(0,d.jsx)(i.td,{children:"Ollama chat bot"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"setup-examples",children:"Setup Examples"}),"\n",(0,d.jsx)(i.h3,{id:"development-local",children:"Development (Local)"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-bash",children:"# Use local Ollama and file-based state\nexport LLM_BACKEND=ollama\nexport STATE_BACKEND=file\nexport TELEGRAM_MODE=local\nexport TZ=Asia/Jerusalem\n\n# Gmail\nexport GMAIL_CLIENT_ID=your_client_id\nexport GMAIL_CLIENT_SECRET=your_client_secret\nexport GMAIL_REFRESH_TOKEN=your_refresh_token\n\n# Telegram (get token from @BotFather, chat ID from your group)\nexport TELEGRAM_BOT_TOKEN=123456:ABC-DEF...\nexport TELEGRAM_CHAT_ID=-1001234567890\n"})}),"\n",(0,d.jsx)(i.h3,{id:"production-railway",children:"Production (Railway)"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-bash",children:"# Use free Gemini and Supabase\nexport LLM_BACKEND=gemini\nexport STATE_BACKEND=supabase\nexport TELEGRAM_MODE=direct\n\n# All secrets from 1Password (handled by Railway)\n# GOOGLE_GENERATIVE_AI_API_KEY, SUPABASE_URL, SUPABASE_SERVICE_KEY, etc.\n"})}),"\n",(0,d.jsx)(i.h2,{id:"loading-variables",children:"Loading Variables"}),"\n",(0,d.jsx)(i.p,{children:"Variables are loaded from:"}),"\n",(0,d.jsxs)(i.ol,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.strong,{children:"Environment"})," \u2014 System variables (highest priority)"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.strong,{children:".env file"})," \u2014 Project root ",(0,d.jsx)(i.code,{children:".env"})," file (git-ignored)"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.strong,{children:"Defaults"})," \u2014 Built-in fallbacks"]}),"\n"]}),"\n",(0,d.jsxs)(i.p,{children:["For launchd jobs, use ",(0,d.jsx)(i.code,{children:"load-env.ts"})," at the entry point:"]}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-typescript",children:'import "../lib/load-env";  // MUST be first import\n'})}),"\n",(0,d.jsxs)(i.p,{children:["This ensures ",(0,d.jsx)(i.code,{children:".env"})," files are loaded before any code runs."]}),"\n",(0,d.jsx)(i.h2,{id:"api-cost-logging",children:"API Cost Logging"}),"\n",(0,d.jsxs)(i.p,{children:["All LLM calls are logged to ",(0,d.jsx)(i.code,{children:"~/.golems-zikaron/api_costs.jsonl"})," as JSONL:"]}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-json",children:'{\n  "timestamp": "2026-02-06T10:30:00Z",\n  "model": "claude-haiku-4-5-20251001",\n  "source": "email-golem",\n  "input_tokens": 1250,\n  "output_tokens": 342,\n  "cost_usd": 0.002352\n}\n'})}),"\n",(0,d.jsx)(i.p,{children:"Pricing:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:["Gemini 2.5 Flash-Lite: ",(0,d.jsx)(i.strong,{children:"Free"})," (production default)"]}),"\n",(0,d.jsx)(i.li,{children:"Haiku 4.5 (fallback): Input $0.80/MTok, Output $4.00/MTok"}),"\n"]}),"\n",(0,d.jsx)(i.h2,{id:"see-also",children:"See Also"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.a,{href:"/golems/docs/configuration/secrets",children:"Secrets Management"})," \u2014 How to store sensitive variables"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.a,{href:"/golems/docs/deployment/railway",children:"Railway Deployment"})," \u2014 Production deployment guide"]}),"\n"]})]})}function a(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,d.jsx)(i,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},8453(e,i,n){n.d(i,{R:()=>l,x:()=>c});var r=n(6540);const d={},s=r.createContext(d);function l(e){const i=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);