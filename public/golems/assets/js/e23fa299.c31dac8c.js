"use strict";(globalThis.webpackChunk_golems_docsite=globalThis.webpackChunk_golems_docsite||[]).push([[8302],{9649(e,i,n){n.r(i),n.d(i,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"deployment/railway","title":"Railway Deployment","description":"The Railway cloud worker is the \\"body\\" of the Golems ecosystem \u2014 it handles data collection (email polling, job scraping, Whoop sync) and morning briefings while the Mac remains the \\"brain\\" (Telegram bot, Night Shift, notifications).","source":"@site/docs/deployment/railway.md","sourceDirName":"deployment","slug":"/deployment/railway","permalink":"/golems/docs/deployment/railway","draft":false,"unlisted":false,"editUrl":"https://github.com/EtanHey/golems/tree/master/packages/docs/docs/deployment/railway.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"mainSidebar","previous":{"title":"Content Pipelines","permalink":"/golems/docs/content-pipelines"},"next":{"title":"Engineering Journey","permalink":"/golems/docs/journey"}}');var s=n(4848),r=n(8453);const d={sidebar_position:1},c="Railway Deployment",t={},a=[{value:"Railway Project",id:"railway-project",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Install Railway CLI",id:"install-railway-cli",level:3},{value:"Authenticate",id:"authenticate",level:3},{value:"Link Project",id:"link-project",level:3},{value:"Deploy",id:"deploy",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Core Configuration",id:"core-configuration",level:3},{value:"API Keys (from 1Password)",id:"api-keys-from-1password",level:3},{value:"Telegram Topics",id:"telegram-topics",level:3},{value:"Cloud Worker Schedule",id:"cloud-worker-schedule",level:2},{value:"Health &amp; Monitoring",id:"health--monitoring",level:2},{value:"Health Check Endpoint",id:"health-check-endpoint",level:3},{value:"Usage Metrics Endpoint",id:"usage-metrics-endpoint",level:3},{value:"Uptime Monitoring",id:"uptime-monitoring",level:3},{value:"Rollback Strategy",id:"rollback-strategy",level:2},{value:"Database Migrations",id:"database-migrations",level:2},{value:"Logs &amp; Debugging",id:"logs--debugging",level:2},{value:"View Logs",id:"view-logs",level:3},{value:"Common Issues",id:"common-issues",level:3},{value:"502 Bad Gateway",id:"502-bad-gateway",level:4},{value:"Telegram notifications not sending",id:"telegram-notifications-not-sending",level:4},{value:"LLM calls failing",id:"llm-calls-failing",level:4},{value:"Service restart (without rebuild)",id:"service-restart-without-rebuild",level:4},{value:"Cost Management",id:"cost-management",level:2},{value:"Dockerfile Notes",id:"dockerfile-notes",level:2},{value:"See Also",id:"see-also",level:2}];function o(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"railway-deployment",children:"Railway Deployment"})}),"\n",(0,s.jsx)(i.p,{children:'The Railway cloud worker is the "body" of the Golems ecosystem \u2014 it handles data collection (email polling, job scraping, Whoop sync) and morning briefings while the Mac remains the "brain" (Telegram bot, Night Shift, notifications).'}),"\n",(0,s.jsx)(i.h2,{id:"railway-project",children:"Railway Project"}),"\n",(0,s.jsx)(i.p,{children:"Create a new project in Railway with these settings:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Organization:"})," Your Railway org"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Project:"})," golems (or any name you choose)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Service:"})," golems"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Region:"})," Any region (US West, Europe, etc.)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Root:"})," Repository root (the Dockerfile is at the repo root)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Builder:"})," Dockerfile"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["The Dockerfile builds a Bun workspace image with all packages. The entry point is ",(0,s.jsx)(i.code,{children:"packages/services/src/cloud-worker.ts"}),"."]}),"\n",(0,s.jsx)(i.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsx)(i.h3,{id:"install-railway-cli",children:"Install Railway CLI"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"brew install railway\n"})}),"\n",(0,s.jsx)(i.h3,{id:"authenticate",children:"Authenticate"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"railway login\n# Opens browser to authorize\n"})}),"\n",(0,s.jsx)(i.h3,{id:"link-project",children:"Link Project"}),"\n",(0,s.jsx)(i.p,{children:"From the repo root:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"railway link\n# Select your org\n# Select your project\n"})}),"\n",(0,s.jsx)(i.h3,{id:"deploy",children:"Deploy"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Upload and deploy local code\nrailway up -d\n\n# Or redeploy from latest upload\nrailway redeploy -y\n"})}),"\n",(0,s.jsx)(i.p,{children:"Watch logs:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"railway logs -f\n"})}),"\n",(0,s.jsx)(i.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsxs)(i.p,{children:["Set these variables in Railway dashboard (",(0,s.jsx)(i.code,{children:"Settings"})," \u2192 ",(0,s.jsx)(i.code,{children:"Variables"}),"):"]}),"\n",(0,s.jsx)(i.h3,{id:"core-configuration",children:"Core Configuration"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Variable"}),(0,s.jsx)(i.th,{children:"Value"}),(0,s.jsx)(i.th,{children:"Notes"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"LLM_BACKEND"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"gemini"})}),(0,s.jsx)(i.td,{children:"Gemini 2.5 Flash-Lite (free tier)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"STATE_BACKEND"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"supabase"})}),(0,s.jsx)(i.td,{children:"Cloud state"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_MODE"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"direct"})}),(0,s.jsx)(i.td,{children:"Direct API calls"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TZ"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"Asia/Jerusalem"})}),(0,s.jsx)(i.td,{children:"Scheduling"})]})]})]}),"\n",(0,s.jsx)(i.h3,{id:"api-keys-from-1password",children:"API Keys (from 1Password)"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Variable"}),(0,s.jsx)(i.th,{children:"Source"}),(0,s.jsx)(i.th,{children:"Required"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"GOOGLE_GENERATIVE_AI_API_KEY"})}),(0,s.jsx)(i.td,{children:"Google AI Studio"}),(0,s.jsx)(i.td,{children:"Yes (primary LLM)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"ANTHROPIC_API_KEY"})}),(0,s.jsx)(i.td,{children:"Anthropic Console"}),(0,s.jsx)(i.td,{children:"Optional (Haiku fallback)"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"SUPABASE_URL"})}),(0,s.jsxs)(i.td,{children:["Your Supabase project (format: ",(0,s.jsx)(i.code,{children:"https://YOUR_PROJECT.supabase.co"}),")"]}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"SUPABASE_SERVICE_KEY"})}),(0,s.jsx)(i.td,{children:"Supabase dashboard \u2192 Settings \u2192 API"}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"SUPABASE_ANON_KEY"})}),(0,s.jsx)(i.td,{children:"Supabase dashboard \u2192 Settings \u2192 API"}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"GMAIL_CLIENT_ID"})}),(0,s.jsx)(i.td,{children:"Google Cloud Console \u2192 OAuth credentials"}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"GMAIL_CLIENT_SECRET"})}),(0,s.jsx)(i.td,{children:"Google Cloud Console"}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"GMAIL_REFRESH_TOKEN"})}),(0,s.jsx)(i.td,{children:"OAuth flow (see Gmail setup docs)"}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_BOT_TOKEN"})}),(0,s.jsx)(i.td,{children:"@BotFather on Telegram"}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_CHAT_ID"})}),(0,s.jsx)(i.td,{children:"Your Telegram group/chat ID"}),(0,s.jsx)(i.td,{children:"Yes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_ALLOWED_IDS"})}),(0,s.jsx)(i.td,{children:"Comma-separated Telegram user IDs"}),(0,s.jsx)(i.td,{children:"Yes"})]})]})]}),"\n",(0,s.jsx)(i.h3,{id:"telegram-topics",children:"Telegram Topics"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Variable"}),(0,s.jsx)(i.th,{children:"Example Value"}),(0,s.jsx)(i.th,{children:"How to Get"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_TOPIC_ALERTS"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"3"})}),(0,s.jsx)(i.td,{children:"Create topic in your Telegram group"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_TOPIC_NIGHTSHIFT"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"4"})}),(0,s.jsx)(i.td,{children:"Create topic in your Telegram group"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_TOPIC_EMAIL"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"5"})}),(0,s.jsx)(i.td,{children:"Create topic in your Telegram group"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_TOPIC_JOBS"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"7"})}),(0,s.jsx)(i.td,{children:"Create topic in your Telegram group"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_TOPIC_RECRUITER"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"126"})}),(0,s.jsx)(i.td,{children:"Create topic in your Telegram group"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"TELEGRAM_TOPIC_UPTIME"})}),(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:"282"})}),(0,s.jsx)(i.td,{children:"Create topic in your Telegram group"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"cloud-worker-schedule",children:"Cloud Worker Schedule"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Job"}),(0,s.jsx)(i.th,{children:"Interval"}),(0,s.jsx)(i.th,{children:"What"}),(0,s.jsx)(i.th,{children:"Model"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Email Poller"}),(0,s.jsx)(i.td,{children:"Hourly (6am-7pm, skip noon, +10pm)"}),(0,s.jsx)(i.td,{children:"Fetch Gmail, route to Golems"}),(0,s.jsx)(i.td,{children:"Gemini Flash-Lite"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Job Scraper"}),(0,s.jsx)(i.td,{children:"6am, 9am, 1pm Sun-Thu"}),(0,s.jsx)(i.td,{children:"Find relevant jobs, score"}),(0,s.jsx)(i.td,{children:"Gemini Flash-Lite"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Whoop Sync"}),(0,s.jsx)(i.td,{children:"7am + 2pm daily"}),(0,s.jsx)(i.td,{children:"Sync biometrics to Supabase"}),(0,s.jsx)(i.td,{children:"--"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Briefing"}),(0,s.jsx)(i.td,{children:"8:00 AM"}),(0,s.jsx)(i.td,{children:"Daily Telegram summary"}),(0,s.jsx)(i.td,{children:"Gemini Flash-Lite"})]})]})]}),"\n",(0,s.jsx)(i.p,{children:"All schedules use Israel/Asia/Jerusalem timezone with automatic DST handling."}),"\n",(0,s.jsx)(i.h2,{id:"health--monitoring",children:"Health & Monitoring"}),"\n",(0,s.jsx)(i.h3,{id:"health-check-endpoint",children:"Health Check Endpoint"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"GET /health\n"})}),"\n",(0,s.jsxs)(i.p,{children:["Returns ",(0,s.jsx)(i.code,{children:"200 OK"})," with:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "status": "ok",\n  "uptime": 3600,\n  "backend": "gemini",\n  "stateBackend": "supabase",\n  "telegramMode": "direct",\n  "israelTime": "2026-02-15T12:30:00+02:00",\n  "isWorkHours": true,\n  "isWorkday": true\n}\n'})}),"\n",(0,s.jsxs)(i.p,{children:["Railway automatically checks ",(0,s.jsx)(i.code,{children:"/health"})," every 30 seconds."]}),"\n",(0,s.jsx)(i.h3,{id:"usage-metrics-endpoint",children:"Usage Metrics Endpoint"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"GET /usage\n"})}),"\n",(0,s.jsx)(i.p,{children:"Returns API cost stats by source (email-golem, job-golem, briefing, etc.)."}),"\n",(0,s.jsx)(i.h3,{id:"uptime-monitoring",children:"Uptime Monitoring"}),"\n",(0,s.jsxs)(i.p,{children:["Configure ",(0,s.jsx)(i.strong,{children:"UptimeRobot"})," (free tier):"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Go to ",(0,s.jsx)(i.a,{href:"https://uptimerobot.com",children:"uptimerobot.com"})]}),"\n",(0,s.jsxs)(i.li,{children:["Add monitor: ",(0,s.jsx)(i.code,{children:"https://your-service.up.railway.app/health"})]}),"\n",(0,s.jsx)(i.li,{children:"Check every 5 minutes"}),"\n",(0,s.jsxs)(i.li,{children:["Webhook alerts can be sent to Telegram via ",(0,s.jsx)(i.code,{children:"/webhook/uptimerobot"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"rollback-strategy",children:"Rollback Strategy"}),"\n",(0,s.jsxs)(i.p,{children:["All configs are ",(0,s.jsx)(i.strong,{children:"environment-based"})," for quick rollback:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Switch LLM backend\nrailway variables set LLM_BACKEND=haiku   # Paid fallback\nrailway variables set LLM_BACKEND=gemini  # Free (default)\n\n# Switch state backend\nrailway variables set STATE_BACKEND=file  # Local fallback\n\n# Always redeploy after variable changes\nrailway redeploy -y\n"})}),"\n",(0,s.jsx)(i.h2,{id:"database-migrations",children:"Database Migrations"}),"\n",(0,s.jsx)(i.p,{children:"Migrations are managed via the Supabase MCP server or dashboard:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Via MCP (in Claude Code)\nmcp__supabase__apply_migration(project_id, name, query)\n\n# Via Supabase CLI\nsupabase db push\n"})}),"\n",(0,s.jsx)(i.h2,{id:"logs--debugging",children:"Logs & Debugging"}),"\n",(0,s.jsx)(i.h3,{id:"view-logs",children:"View Logs"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# Stream live logs\nrailway logs -f\n\n# Last 20 lines\nrailway logs -n 20\n\n# Recent deployments\nrailway deployment list\n"})}),"\n",(0,s.jsx)(i.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsx)(i.h4,{id:"502-bad-gateway",children:"502 Bad Gateway"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Check if service is running: ",(0,s.jsx)(i.code,{children:"railway logs -f"})]}),"\n",(0,s.jsx)(i.li,{children:"Verify all required env vars are set"}),"\n",(0,s.jsx)(i.li,{children:"Check SUPABASE_URL and SUPABASE_SERVICE_KEY"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"telegram-notifications-not-sending",children:"Telegram notifications not sending"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Verify TELEGRAM_BOT_TOKEN is correct"}),"\n",(0,s.jsx)(i.li,{children:"Check TELEGRAM_CHAT_ID is negative (for groups)"}),"\n",(0,s.jsx)(i.li,{children:"Verify topic IDs (TELEGRAM_TOPIC_*)"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"llm-calls-failing",children:"LLM calls failing"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Check ",(0,s.jsx)(i.code,{children:"GOOGLE_GENERATIVE_AI_API_KEY"})," is set (primary)"]}),"\n",(0,s.jsxs)(i.li,{children:["For Haiku fallback: check ",(0,s.jsx)(i.code,{children:"ANTHROPIC_API_KEY"})," and account credits"]}),"\n",(0,s.jsx)(i.li,{children:"Check logs for rate limiting"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"service-restart-without-rebuild",children:"Service restart (without rebuild)"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"railway service restart -y\n"})}),"\n",(0,s.jsx)(i.h2,{id:"cost-management",children:"Cost Management"}),"\n",(0,s.jsx)(i.p,{children:"Monitor costs in two places:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Railway dashboard"})," \u2014 Compute (~$5-10/month)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Supabase dashboard"})," \u2014 Database queries (free tier sufficient)"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"LLM costs:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Gemini Flash-Lite"})," (default): Free tier"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"GLM-4.7-Flash"})," (local): Free (Ollama)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Haiku 4.5"})," (paid fallback): $0.80/$4.00 per million tokens"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["Typical monthly cost: ",(0,s.jsx)(i.strong,{children:"$5-10"})," (Railway compute only, LLM is free with Gemini)."]}),"\n",(0,s.jsx)(i.h2,{id:"dockerfile-notes",children:"Dockerfile Notes"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["The Dockerfile lives at the ",(0,s.jsx)(i.strong,{children:"repo root"})," (not in a package)"]}),"\n",(0,s.jsxs)(i.li,{children:["Don't copy ",(0,s.jsx)(i.code,{children:"bun.lockb"})," \u2014 local-only packages cause lockfile mismatch"]}),"\n",(0,s.jsxs)(i.li,{children:["All workspace ",(0,s.jsx)(i.code,{children:"package.json"})," files must be copied for Bun workspace resolution"]}),"\n",(0,s.jsxs)(i.li,{children:["Uses ",(0,s.jsx)(i.code,{children:"bun install --production"})," without ",(0,s.jsx)(i.code,{children:"--frozen-lockfile"})]}),"\n",(0,s.jsxs)(i.li,{children:["Entry point: ",(0,s.jsx)(i.code,{children:"packages/services/src/cloud-worker.ts"})]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"/golems/docs/cloud-worker",children:"Cloud Worker"})," \u2014 Schedule details and endpoints"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"/golems/docs/configuration/env-vars",children:"Environment Variables"})," \u2014 Complete variable reference"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"/golems/docs/configuration/secrets",children:"Secrets Management"})," \u2014 How to store API keys"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.a,{href:"/golems/docs/architecture",children:"Golems Architecture"})," \u2014 System design"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453(e,i,n){n.d(i,{R:()=>d,x:()=>c});var l=n(6540);const s={},r=l.createContext(s);function d(e){const i=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(r.Provider,{value:i},e.children)}}}]);