"use strict";(globalThis.webpackChunk_golems_docsite=globalThis.webpackChunk_golems_docsite||[]).push([[3388],{6343(e,s,n){n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"content-pipelines","title":"Content Pipelines","description":"ContentGolem orchestrates 5 visual content pipelines and a text publishing pipeline. Each pipeline follows the same pattern: idea in, Claude Code picks the right tool, output rendered.","source":"@site/docs/content-pipelines.md","sourceDirName":".","slug":"/content-pipelines","permalink":"/golems/docs/content-pipelines","draft":false,"unlisted":false,"editUrl":"https://github.com/EtanHey/golems/tree/master/packages/docs/docs/content-pipelines.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"mainSidebar","previous":{"title":"Per-Repo Sessions","permalink":"/golems/docs/per-repo-sessions"},"next":{"title":"Railway Deployment","permalink":"/golems/docs/deployment/railway"}}');var t=n(4848),r=n(8453);const l={sidebar_position:6},d="Content Pipelines",c={},o=[{value:"Pipeline Overview",id:"pipeline-overview",level:2},{value:"Pipelines",id:"pipelines",level:2},{value:"Remotion Video",id:"remotion-video",level:3},{value:"ComfyUI / Flux Image Gen",id:"comfyui--flux-image-gen",level:3},{value:"DataViz Charts",id:"dataviz-charts",level:3},{value:"Satori Template Fill",id:"satori-template-fill",level:3},{value:"Figma to Video",id:"figma-to-video",level:3},{value:"Playwright Screenshots",id:"playwright-screenshots",level:3},{value:"Routing",id:"routing",level:2},{value:"Pipeline Runs",id:"pipeline-runs",level:2},{value:"Text Publishing",id:"text-publishing",level:2},{value:"CC Skills",id:"cc-skills",level:2},{value:"Dependencies",id:"dependencies",level:2}];function h(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"content-pipelines",children:"Content Pipelines"})}),"\n",(0,t.jsx)(s.p,{children:"ContentGolem orchestrates 5 visual content pipelines and a text publishing pipeline. Each pipeline follows the same pattern: idea in, Claude Code picks the right tool, output rendered."}),"\n",(0,t.jsx)(s.h2,{id:"pipeline-overview",children:"Pipeline Overview"}),"\n",(0,t.jsx)(s.mermaid,{value:'flowchart LR\n    I["Content Request"] --\x3e R{"Router<br/><small>CC Opus</small>"}\n    R --\x3e P1["Remotion<br/><small>Video/GIF</small>"]\n    R --\x3e P2["ComfyUI/Flux<br/><small>AI Images</small>"]\n    R --\x3e P3["DataViz<br/><small>Charts</small>"]\n    R --\x3e P4["Satori<br/><small>Social Cards</small>"]\n    R --\x3e P5["Playwright<br/><small>Screenshots</small>"]\n    R --\x3e P6["Figma\u2192Video<br/><small>Design-validated</small>"]\n    P1 & P2 & P3 & P4 & P5 & P6 --\x3e O["Output<br/><small>PNG/MP4/GIF/SVG</small>"]'}),"\n",(0,t.jsx)(s.h2,{id:"pipelines",children:"Pipelines"}),"\n",(0,t.jsx)(s.h3,{id:"remotion-video",children:"Remotion Video"}),"\n",(0,t.jsx)(s.p,{children:"Renders React compositions into MP4/GIF videos using Remotion on the local Mac."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Step"}),(0,t.jsx)(s.th,{children:"Component"}),(0,t.jsx)(s.th,{children:"What"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Idea"}),(0,t.jsx)(s.td,{children:"Video concept description"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"CC (Opus)"}),(0,t.jsx)(s.td,{children:"Picks React composition, writes props"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"React"}),(0,t.jsx)(s.td,{children:"Renders animation frames"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4"}),(0,t.jsx)(s.td,{children:"Remotion"}),(0,t.jsx)(s.td,{children:"Encodes MP4 or GIF"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"5"}),(0,t.jsx)(s.td,{children:"Output"}),(0,t.jsx)(s.td,{children:"Final video file"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Use cases:"})," Product demos, feature showcases, social video content."]}),"\n",(0,t.jsx)(s.h3,{id:"comfyui--flux-image-gen",children:"ComfyUI / Flux Image Gen"}),"\n",(0,t.jsx)(s.p,{children:"Generates images using Flux on Apple Silicon via ComfyUI with a vision-based quality gate."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Step"}),(0,t.jsx)(s.th,{children:"Component"}),(0,t.jsx)(s.th,{children:"What"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Idea"}),(0,t.jsx)(s.td,{children:"Image concept description"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"CC (Opus)"}),(0,t.jsx)(s.td,{children:"Crafts Flux prompt"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"ComfyUI"}),(0,t.jsx)(s.td,{children:"Flux inference on Apple Silicon"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4"}),(0,t.jsx)(s.td,{children:"Vision Gate"}),(0,t.jsx)(s.td,{children:"Quality review (auto-reject blurry/off-brand)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"5"}),(0,t.jsx)(s.td,{children:"Output"}),(0,t.jsx)(s.td,{children:"PNG with brand overlay"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Use cases:"})," Blog headers, social media images, product mockups."]}),"\n",(0,t.jsx)(s.h3,{id:"dataviz-charts",children:"DataViz Charts"}),"\n",(0,t.jsx)(s.p,{children:"Creates data visualizations from Supabase queries or API data, rendered as SVG/PNG."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Step"}),(0,t.jsx)(s.th,{children:"Component"}),(0,t.jsx)(s.th,{children:"What"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Data"}),(0,t.jsx)(s.td,{children:"Supabase query or API fetch"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"CC (Opus)"}),(0,t.jsx)(s.td,{children:"Designs chart type and layout"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"SVG Builder"}),(0,t.jsx)(s.td,{children:"Generates vector markup"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4"}),(0,t.jsx)(s.td,{children:"Sharp"}),(0,t.jsx)(s.td,{children:"Rasterizes to PNG"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"5"}),(0,t.jsx)(s.td,{children:"Output"}),(0,t.jsx)(s.td,{children:"PNG or SVG chart"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Use cases:"})," Token usage graphs, job match trends, ecosystem health dashboards."]}),"\n",(0,t.jsx)(s.h3,{id:"satori-template-fill",children:"Satori Template Fill"}),"\n",(0,t.jsx)(s.p,{children:"Fills JSX templates with dynamic data and renders to social card PNGs via Satori."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Step"}),(0,t.jsx)(s.th,{children:"Component"}),(0,t.jsx)(s.th,{children:"What"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Data"}),(0,t.jsx)(s.td,{children:"Content text + template selection"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"CC (Opus)"}),(0,t.jsx)(s.td,{children:"Fills template variables"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"Satori"}),(0,t.jsx)(s.td,{children:"JSX to SVG conversion"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4"}),(0,t.jsx)(s.td,{children:"Output"}),(0,t.jsx)(s.td,{children:"Social card PNG"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Use cases:"})," LinkedIn post cards, OG images, quote cards."]}),"\n",(0,t.jsx)(s.h3,{id:"figma-to-video",children:"Figma to Video"}),"\n",(0,t.jsx)(s.p,{children:"Design-validated video pipeline. CC extracts the target design from Figma, builds a Remotion composition, then iterates until the rendered output matches the Figma design 1:1. Includes a visual comparison gate that rejects renders that don't match."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Step"}),(0,t.jsx)(s.th,{children:"Component"}),(0,t.jsx)(s.th,{children:"What"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"Figma"}),(0,t.jsx)(s.td,{children:"Source design file (exported or API)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"CC (Opus)"}),(0,t.jsx)(s.td,{children:"Extracts layout, colors, typography, props"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"React"}),(0,t.jsx)(s.td,{children:"Renders Remotion composition"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4"}),(0,t.jsx)(s.td,{children:"Figma Gate"}),(0,t.jsx)(s.td,{children:"Compares render to original design"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"5"}),(0,t.jsx)(s.td,{children:"Remotion"}),(0,t.jsx)(s.td,{children:"Encodes MP4/GIF once gate passes"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"6"}),(0,t.jsx)(s.td,{children:"Output"}),(0,t.jsx)(s.td,{children:"Design-faithful video"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Use cases:"})," Product demos matching brand designs, Figma-to-animation, pixel-perfect animated previews."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," DomicaHero composition \u2014 went through 21 iterations comparing renders against the Figma design to achieve 1:1 element fidelity."]}),"\n",(0,t.jsx)(s.h3,{id:"playwright-screenshots",children:"Playwright Screenshots"}),"\n",(0,t.jsx)(s.p,{children:"Captures web page screenshots using Playwright browser automation."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Step"}),(0,t.jsx)(s.th,{children:"Component"}),(0,t.jsx)(s.th,{children:"What"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"URL"}),(0,t.jsx)(s.td,{children:"Target page URL"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"CC (Opus)"}),(0,t.jsx)(s.td,{children:"Plans viewport, selectors, timing"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"3"}),(0,t.jsx)(s.td,{children:"Playwright"}),(0,t.jsx)(s.td,{children:"Browser renders and captures"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4"}),(0,t.jsx)(s.td,{children:"Output"}),(0,t.jsx)(s.td,{children:"PNG screenshot"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Use cases:"})," Portfolio screenshots, competitor analysis, visual regression."]}),"\n",(0,t.jsx)(s.h2,{id:"routing",children:"Routing"}),"\n",(0,t.jsx)(s.p,{children:"When a content request arrives, Claude Code (Opus) analyzes the request and routes to the appropriate pipeline. The routing decision considers:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Content type:"})," video vs image vs chart vs screenshot"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Input data:"})," URL (Playwright), data (DataViz), concept (Remotion/Flux)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Output format:"})," MP4/GIF (Remotion), PNG (all others), SVG (DataViz)"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"pipeline-runs",children:"Pipeline Runs"}),"\n",(0,t.jsxs)(s.p,{children:["Every pipeline execution is logged to the ",(0,t.jsx)(s.code,{children:"pipeline_runs"})," Supabase table:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"-- pipeline_runs table\npipeline    TEXT    -- remotion, comfyui, dataviz, satori, playwright\nstatus      TEXT    -- pending, running, success, failed\ninput       JSONB   -- request parameters\noutput      JSONB   -- result metadata (file path, dimensions, duration)\nduration_ms INTEGER -- execution time\nerror       TEXT    -- error message if failed\ncreated_at  TIMESTAMP\n"})}),"\n",(0,t.jsxs)(s.p,{children:["View pipeline history and stats on the dashboard at ",(0,t.jsx)(s.code,{children:"/content"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"text-publishing",children:"Text Publishing"}),"\n",(0,t.jsx)(s.p,{children:"Beyond visual content, ContentGolem handles text publishing:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"LinkedIn posts"})," via the ",(0,t.jsx)(s.code,{children:"/linkedin-post"})," skill (2026 algorithm optimization)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Soltome posts"})," via the Soltome API client (AI social network)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Ghostwriting"})," in the owner's Hebrew-English voice"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Text content goes through a critique-waves quality process: parallel agents review, refine, and reach consensus before publishing."}),"\n",(0,t.jsx)(s.h2,{id:"cc-skills",children:"CC Skills"}),"\n",(0,t.jsx)(s.p,{children:"Content pipelines are invoked via Claude Code skills:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Skill"}),(0,t.jsx)(s.th,{children:"Pipeline"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"golem-powers/content/workflows/draft"})}),(0,t.jsx)(s.td,{children:"Text drafting + critique"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"golem-powers/linkedin-post/workflows/draft"})}),(0,t.jsx)(s.td,{children:"LinkedIn-specific drafting"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"golem-powers/linkedin-post/workflows/review"})}),(0,t.jsx)(s.td,{children:"Draft quality review"})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Remotion"})," \u2014 React video rendering (",(0,t.jsx)(s.code,{children:"@remotion/cli"}),", ",(0,t.jsx)(s.code,{children:"@remotion/bundler"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"ComfyUI"})," \u2014 Flux image generation (local, Apple Silicon)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Sharp"})," \u2014 Image processing and rasterization"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Satori"})," \u2014 JSX to SVG/PNG conversion"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Playwright"})," \u2014 Browser automation for screenshots"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Render Service"})," \u2014 Local Bun microservice for Remotion rendering (",(0,t.jsx)(s.code,{children:"launchd"})," managed)"]}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,s,n){n.d(s,{R:()=>l,x:()=>d});var i=n(6540);const t={},r=i.createContext(t);function l(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);